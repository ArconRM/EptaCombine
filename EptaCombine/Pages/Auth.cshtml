@page
@model EptaCombine.Pages.AuthModel
@{
    ViewData["Title"] = "Authentication";
}
@Html.AntiForgeryToken()

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="css/auth.css?v=@DateTime.Now.Ticks" />

<div class="auth-container">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <!-- Tabs Navigation -->
            <ul class="nav nav-tabs mb-4" id="authTabs" role="tablist">
                <li class="nav-item" role="presentation">
                    <button class="nav-link active fw-bold" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button" role="tab">
                        üîê –í—Ö–æ–¥
                    </button>
                </li>
                <li class="nav-item" role="presentation">
                    <button class="nav-link fw-bold" id="register-tab" data-bs-toggle="tab" data-bs-target="#register" type="button" role="tab">
                        ‚úçÔ∏è –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
                    </button>
                </li>
            </ul>

            <!-- Tabs Content -->
            <div class="tab-content" id="authTabsContent">
                <!-- Login Tab -->
                <div class="tab-pane fade show active" id="login" role="tabpanel">
                    <div class="card shadow-sm p-4 hover-zoom">
                        <h3 class="text-center mb-4">–í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É</h3>
                        <form id="loginForm" method="post">
                            <div class="mb-3">
                                <label for="loginUsername" class="form-label">–õ–æ–≥–∏–Ω</label>
                                <input type="text" class="form-control" id="loginUsername" name="Username" required>
                            </div>
                            <div class="mb-3">
                                <label for="loginPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-control" id="loginPassword" name="Password" required>
                            </div>
                            <div class="mb-3 form-check">
                                <input type="checkbox" class="form-check-input" id="rememberMe" name="RememberMe">
                                <label class="form-check-label" for="rememberMe">–ó–∞–ø–æ–º–Ω–∏—Ç—å –º–µ–Ω—è</label>
                            </div>
                            <button type="submit" class="btn btn-primary w-100 fw-bold">–í–æ–π—Ç–∏</button>
                        </form>
                    </div>
                </div>

                <!-- Register Tab -->
                <div class="tab-pane fade" id="register" role="tabpanel">
                    <div class="card shadow-sm p-4 hover-zoom">
                        <h3 class="text-center mb-4">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
                        <form id="registerForm" method="post">
                            <div class="mb-3">
                                <label for="registerUsername" class="form-label">–õ–æ–≥–∏–Ω</label>
                                <input type="text" class="form-control" id="registerUsername" name="Username" required>
                            </div>
                            <div class="mb-3">
                                <label for="registerEmail" class="form-label">Email</label>
                                <input type="email" class="form-control" id="registerEmail" name="Email" required>
                            </div>
                            <div class="mb-3">
                                <label for="registerPassword" class="form-label">–ü–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-control" id="registerPassword" name="Password" required>
                            </div>
                            <div class="mb-3">
                                <label for="confirmPassword" class="form-label">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å</label>
                                <input type="password" class="form-control" id="confirmPassword" name="ConfirmPassword" required>
                            </div>
                            <button type="submit" class="btn btn-success w-100 fw-bold">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Toast -->
    <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
        <div id="toastBox" class="toast align-items-center text-white bg-success border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body">‚úÖ –•–∑ –∑–∞—á–µ–º –æ–Ω–∞ —â–∞—Å –ø–æ—è–≤–∏–ª–∞—Å—å</div>
            </div>
        </div>
    </div>
</div>

<div id="overlay" class="position-fixed top-0 start-0 w-100 h-100 d-none"
     style="z-index: 1050; background-color: rgba(0, 0, 0, 0.5);">
    <!-- Video Background -->
    <video
        id="overlay-video"
        class="overlay-video"
        autoplay
        muted
        playsinline
        loop
    >
        <source src="/media/bobek.mp4" type="video/mp4">
    </video>

    <!-- Spinner & Message -->
    <div class="d-flex justify-content-center align-items-center h-100 position-relative">
        <div class="text-white text-center">
            <div class="spinner-border text-light mb-3" role="status"></div>
            <div id="overlayMessage" class="fs-5 fw-semibold"></div>
        </div>
    </div>
</div>

@section Scripts {
    <script src="~/js/auth.js?v=@DateTime.Now.Ticks"></script>
}